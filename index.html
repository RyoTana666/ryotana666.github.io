<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ryo Tanaka Terminal</title>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #1a1d23;
  --border: #3a3f47;
  --text: #d0d4da;
  --gray: #9da3ad;
  --green: #00ff99;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: 'Source Code Pro', monospace;
  padding: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

/* ========== Terminal Frame ========== */
.terminal {
  border: 1px solid var(--border);
  border-radius: 8px;
  width: 100%;
  max-width: 600px;
  background: #20232a;
  box-shadow: 0 0 18px rgba(0, 255, 153, 0.08);
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.4s ease;
}
.terminal.visible { opacity: 1; }

.terminal-header {
  background: #2a2f38;
  border-bottom: 1px solid var(--border);
  height: 28px;
  display: flex;
  align-items: center;
  padding-left: 12px;
  gap: 8px;
}
.dot { width: 12px; height: 12px; border-radius: 50%; }
.dot.red { background: #ff5f56; }
.dot.yellow { background: #ffbd2e; }
.dot.green { background: #27c93f; }

.terminal-body { padding: 14px 16px 18px; }

/* ========== Lines ========== */
.command-line {
  color: var(--gray);
  font-weight: 600;
  font-size: 15px;
  white-space: pre;
  margin-bottom: 24px;
}
.cursor {
  display: inline-block;
  width: 8px;
  height: 16px;
  background: var(--gray);
  margin-left: 2px;
  animation: blink 1s infinite;
  vertical-align: bottom;
}
@keyframes blink {
  0%, 50% { opacity: 1; }
  50.1%, 100% { opacity: 0; }
}

.line {
  margin-bottom: 26px;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.8s ease;
}
.line.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ========== Text Styles ========== */
.headline {
  color: var(--green);
  font-weight: 600;
  font-size: 15px;
}

.role-line {
  color: var(--text);
  font-weight: 600;
  font-size: 14px;
  margin-left: 20px;
  margin-top: 6px;
  line-height: 1.5;
}
.role-line + .role-line { margin-top: 4px; }
.role-line + .subtext { margin-top: 12px; }

.subtext {
  color: var(--gray);
  margin-left: 20px;
  font-size: 13px;
  line-height: 1.7;
  margin-bottom: 8px;
}

/* ========== Icons ========== */
.icons {
  display: flex;
  gap: 10px;
  margin-left: 20px;
  margin-top: 10px;
  flex-wrap: wrap;
}
.icon-btn {
  width: 32px;
  height: 32px;
  border-radius: 6px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.instagram { background: #E4405F; }
.x { background: #000; }
.note { background: #41c9b4; }
.linkedin { background: #0A66C2; }
.spotify { background: #1DB954; }
.applepodcasts { background: #9933CC; }
.googlemaps { background: #4285F4; }
.icon-btn img {
  width: 14px;
  height: 14px;
  filter: invert(1);
}

/* ========== Footer ========== */
footer {
  color: var(--gray);
  font-size: 10px;
  margin-top: 30px;
  text-align: center;
  opacity: 0;
  transition: opacity 0.8s ease;
}
.reset {
  color: var(--green);
  margin-top: 10px;
  cursor: pointer;
  font-size: 12px;
  text-decoration: underline;
  transition: opacity 0.2s ease;
}
.reset:hover { opacity: 0.8; }

/* ========== Loading ========== */
.loading-screen {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: var(--bg);
  color: var(--green);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 1px;
  animation: flicker 0.8s infinite;
  z-index: 100;
}
@keyframes flicker {
  0%, 50% { opacity: 1; }
  50.1%, 100% { opacity: 0.5; }
}
</style>
</head>

<body>
<div class="loading-screen" id="loading">LOADING SYSTEM...</div>

<div class="terminal" id="terminal">
  <div class="terminal-header">
    <div class="dot red"></div>
    <div class="dot yellow"></div>
    <div class="dot green"></div>
  </div>

  <div class="terminal-body">
    <div class="command-line" id="command"><span id="cursor" class="cursor"></span></div>

    <!-- 自己紹介 -->
    <div class="line" id="line1">
      <div class="headline">&gt; Hello, World! I'm Ryo Tanaka!</div>
      <div class="role-line">&gt; ROLE: Data Analyst / CEO / Podcast Host</div>
      <div class="role-line">&gt; WHERE: Tokyo, Japan / Taichung, Taiwan</div>
      <div class="subtext">
        こんにちは、台湾台中でタイ料理屋を経営している田中良です！<br>
        0800大家好、我是在台灣台中開泰式餐廳的日本人「田中良」！
      </div>
      <div class="icons">
        <a href="https://www.instagram.com/ryotana20" target="_blank" class="icon-btn instagram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg">
        </a>
        <a href="https://x.com/ryotana666" target="_blank" class="icon-btn x">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg">
        </a>
        <a href="https://note.com/ryotana666" target="_blank" class="icon-btn note">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/note.svg">
        </a>
        <a href="https://www.linkedin.com/in/ryo-tanaka-a7643a141" target="_blank" class="icon-btn linkedin">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg">
        </a>
      </div>
    </div>

    <!-- 清邁米粉湯 -->
    <div class="line" id="line2">
      <div class="headline">&gt; 清邁米粉湯</div>
      <div class="role-line">&gt; ROLE: CEO</div>
      <div class="subtext">
        タイ、チェンマイの米粉湯を台湾へお届けしています！<br>
        從清邁帶回來的味道！
      </div>
      <div class="icons">
        <a href="https://www.instagram.com/chiangmai.noodle" target="_blank" class="icon-btn instagram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg">
        </a>
        <a href="https://maps.app.goo.gl/c9BEYMgq86PmUtks7?g_st=ipc" target="_blank" class="icon-btn googlemaps">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/googlemaps.svg">
        </a>
      </div>
    </div>

    <!-- 台日混混 -->
    <div class="line" id="line3">
      <div class="headline">&gt; 台日混混</div>
      <div class="role-line">&gt; ROLE: Podcast Host</div>
      <div class="subtext">
        日本人と台湾人が様々なトピックスについてゆるく語るバイリンガルPodcast！<br>
        日本人和台湾人輕鬆聊各種話題的雙語Podcast！
      </div>
      <div class="icons">
        <a href="https://www.instagram.com/tairifunfun" target="_blank" class="icon-btn instagram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg">
        </a>
        <a href="https://podcasts.apple.com/jp/podcast/%E5%8F%B0%E6%97%A5%E6%B7%B7%E6%B7%B7/id1841561146" target="_blank" class="icon-btn applepodcasts">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/applepodcasts.svg">
        </a>
        <a href="https://open.spotify.com/show/0257zcRDPt7aYyQ7oaSNC6?si=tUlH4PUBRU2yQkrJ2u9KSQ" target="_blank" class="icon-btn spotify">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/spotify.svg">
        </a>
      </div>
    </div>
  </div>
</div>

<footer id="footer">
  © <span id="year"></span> RYO TANAKA<br>
  <span class="reset" id="resetBtn">&gt; reset animation</span>
</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();
const loading = document.getElementById('loading');
const terminal = document.getElementById('terminal');
const footer = document.getElementById('footer');
const cmdEl = document.getElementById('command');
const cursor = document.getElementById('cursor');
const cmd = '> run ryo_tanaka.exe';
let i = 0;

const showLinesSequential = () => {
  document.querySelectorAll('.line').forEach((line, idx) => {
    setTimeout(() => line.classList.add('visible'), idx * 1400);
  });
  footer.style.opacity = 1;
};

const showLinesInstant = () => {
  document.querySelectorAll('.line').forEach(line => line.classList.add('visible'));
  footer.style.opacity = 1;
};

const playTyping = () => {
  if (i < cmd.length) {
    cmdEl.insertBefore(document.createTextNode(cmd.charAt(i)), cursor);
    i++;
    setTimeout(playTyping, 60);
  } else {
    setTimeout(() => {
      cursor.remove();
      setTimeout(showLinesSequential, 700);
    }, 800);
    localStorage.setItem('visited', 'true');
  }
};

const startTerminal = () => {
  loading.style.display = 'none';
  terminal.classList.add('visible');
  if (localStorage.getItem('visited')) {
    cmdEl.textContent = cmd;
    showLinesInstant();
  } else {
    playTyping();
  }
};

// 初回のみロード演出
if (!localStorage.getItem('visited')) {
  setTimeout(() => {
    loading.textContent = 'INITIALIZING SYSTEM...';
    setTimeout(startTerminal, 1200);
  }, 800);
} else {
  loading.remove();
  startTerminal();
}

// ✅ resetボタンでトップへスムーズスクロールしてからリロード
document.getElementById('resetBtn').addEventListener('click', () => {
  localStorage.removeItem('visited');
  window.scrollTo({ top: 0, behavior: 'smooth' });
  setTimeout(() => {
    location.reload();
  }, 600);
});
</script>
</body>
</html>
